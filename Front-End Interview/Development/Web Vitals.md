### **سوال ۱: Web Vitals چیه و چرا اهمیت داره؟**

  

**پاسخ:**

Web Vitals مجموعه‌ای از معیارهای کلیدی هستن که تجربه واقعی کاربر از عملکرد وب‌سایت رو اندازه‌گیری می‌کنن. توسط گوگل معرفی شدن و مستقیماً روی SEO هم تأثیر دارن.

---

### **سوال ۲: Core Web Vitals شامل چه معیارهایی می‌شه؟**

  

**پاسخ:**

۱. **LCP (Largest Contentful Paint):** زمان لود بزرگ‌ترین المان صفحه

۲. **FID (First Input Delay):** تأخیر اولین تعامل کاربر

۳. **CLS (Cumulative Layout Shift):** ناپایداری چیدمان هنگام لود

  

از ۲۰۲۴ به بعد، **INP (Interaction to Next Paint)** جای FID رو گرفته.

---

### **سوال ۳: مقدار مناسب برای هر Core Web Vital چقدره؟**

  

**پاسخ:**

- **LCP:** کمتر از 2.5 ثانیه
    
- **INP:** کمتر از 200 میلی‌ثانیه
    
- **CLS:** کمتر از 0.1
    

---

### **سوال ۴: چطوری می‌تونیم Web Vitals رو اندازه بگیریم؟**

  

**پاسخ:**

- استفاده از [web-vitals](https://github.com/GoogleChrome/web-vitals)
    
- ابزارهایی مثل Lighthouse، PageSpeed Insights
    
- افزونه Web Vitals برای مرورگر
    
- Real User Monitoring با tools مثل Sentry، Vercel Analytics، New Relic
    

---

### **سوال ۵: راهکارهایی برای بهبود LCP چیه؟**

  

**پاسخ:**

- بهینه‌سازی تصویر و استفاده از lazy loading
    
- استفاده از CDN
    
- استفاده از preconnect/preload
    
- کاهش زمان پاسخ سرور
    
- حذف جاوااسکریپت‌های بلاک‌کننده رندر
    

---

### **سوال ۶: چطور CLS رو کاهش بدیم؟**

  

**پاسخ:**

- تعریف اندازه برای همه تصاویر و iframeها
    
- استفاده از placeholder برای محتواهای لود شونده
    
- اجتناب از تبلیغات یا کامپوننت‌هایی که سایز متغیر دارن
    
- عدم استفاده از فونت‌هایی که باعث flash of unstyled text می‌شن
    

---

### **سوال ۷: INP دقیقاً چیه و چه چیزی روش تأثیر می‌ذاره؟**

  

**پاسخ:**

INP زمانیه که بین تعامل کاربر (مثلاً کلیک) و رندر شدن واکنش قابل مشاهده روی صفحه طول می‌کشه.

تأثیرپذیر از:

- event handlers سنگین
    
- taskهای طولانی در main thread
    
- block شدن UI توسط عملیات sync زیاد

---
---
---
---
## **💡 راهکارهای بهینه‌سازی Web Vitals**

  

### **✅ 1. LCP (باید <2.5 ثانیه باشه)**

  

**چی باعث افت میشه؟**

- لود کند عکس‌ها یا فونت‌ها
    
- جاوااسکریپت زیاد قبل از رندر
    
- CSSهای بلاک‌کننده
    

  

**راهکارها:**

- از **lazy loading** برای تصاویر غیر بالای صفحه استفاده کن (<img loading="lazy" />)
    
- تصاویر LCP رو **preload** کن:
```html
<link rel="preload" as="image" href="/hero.jpg" />
```
-   
    
- از next/image استفاده کن تا هم **responsive** باشه هم **فشرده**
    
- فایل‌های CSS حجیم رو به چند بخش تقسیم کن و فقط اون‌هایی که لازمه رو early load کن
    

---

### **✅ 2. FID / INP (باید <100ms باشه)**

  

**چی باعث افت میشه؟**

- جاوااسکریپت سنگین توی main thread
    
- event handlerهای سنگین
    

  

**راهکارها:**

- کدهای غیرضروری رو به بعد موکول کن (code splitting)
    
- از React.lazy() و Suspense استفاده کن
    
- فقط کدهای ضروری رو توی بالا لود کن
    
- از useTransition (React 18) برای تعاملات غیر فوری استفاده کن
    
- برای eventهای پرتکرار (مثل onScroll) از debounce/throttle استفاده کن
    

---

### **✅ 3. CLS (باید < 0.1 باشه)**

  

**چی باعث افت میشه؟**

- تصاویر بدون width و height
    
- فونت‌هایی که با flash لود می‌شن
    
- بنرهایی که به صورت دینامیک بالای صفحه میان
    

  

**راهکارها:**

- همیشه ابعاد تصاویر و ویدیوها رو مشخص کن (حتی با style)
    
- از font-display: swap برای فونت‌ها استفاده کن
    
- فضاهای داینامیک (بنر، alert) رو توی flow رزرو کن تا صفحه نپره
    

---

### **✅ 4. TTFB (باید < 200ms باشه)**

  

**چی باعث افت میشه؟**

- سرور کند
    
- رندر سمت سرور سنگین (SSR سنگین در Next.js)
    
- کوئری‌های کند به دیتابیس
    

  

**راهکارها:**

- از **Edge Functions** یا **ISR** (Incremental Static Regeneration) در Next.js استفاده کن
    
- صفحات پرترافیک رو **static** بساز (getStaticProps)
    
- از CDN استفاده کن (Vercel این کارو خودش انجام میده)
    
- از API routeهای سبک و optimized استفاده کن