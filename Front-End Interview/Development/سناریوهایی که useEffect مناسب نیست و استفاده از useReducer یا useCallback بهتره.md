

---

### **โ ฑ. ุฒูุงู ฺฉู state ูุงุจุณุชู ุจู** **event ุฏุงุฎู component** ย**ุจุงุดูุ ูู side effect ุฎุงุฑุฌ**

  

**ุจุฏ:**

```
const [count, setCount] = useState(0);

useEffect(() => {
  setCount((c) => c + 1);
}, []);
```

**ฺุฑุง ุจุฏูุ**

- ุงู ฺฉุงุฑ ู anti-pattern ูุนุฑููู.
    
- ฺูู useEffect ุจุนุฏ ุงุฒ render ุงุฌุฑุง ูโุดู ู ุจุงุนุซ ู ุฑูุฏุฑ ุงุถุงู ูโุดู.
    

  

**ุจูุชุฑ:**

- ูุณุชููุงู useState ุง useReducer ุงุณุชูุงุฏู ฺฉู ู state ุฑู ุจูโุฏุฑุณุช ููุฏุงุฑุฏู ฺฉู.
    

---

### **โ ฒ. ููุช state ูุงุจุณุชู ุจู**ย

### **ฺฉ ุณุฑ action ูพฺุฏู ุง ูุฑุญููโุง**

### ย**ูุณุช**

  

**ุจุฏ:**

```
const [formState, setFormState] = useState({ name: '', email: '', age: '' });

useEffect(() => {
  if (formState.name === '') {
    setFormState({ ...formState, nameError: 'Required' });
  }
}, [formState.name]);
```

**ฺุฑุง ุจุฏูุ**

- ุฑูุฏุฑูุง ุงุถุงู ู ฺฉุฏ ูพฺุฏู.
    
- mutation ุบุฑูุงุจู ูพุดโุจู.
    

  

**ุจูุชุฑ:**

- ุงุณุชูุงุฏู ุงุฒ useReducer ุจุฑุง ูุฏุฑุช state ู validation ุจุง action ูุง ูุดุฎุต.
    

---

### **โ ณ. ุฒูุงู ฺฉู ุชุงุจุน ุจู ูุฑุฒูุฏ ูพุงุณ ุฏุงุฏู ูโุดู ู ุชุงุจุน ุฏุฑ**ย

### **useEffect**

### ย**ุชุนุฑู ูโุดู**

  

**ุจุฏ:**

```
useEffect(() => {
  const handler = () => console.log('Clicked');
  window.addEventListener('click', handler);
  return () => window.removeEventListener('click', handler);
}, []);
```

**ฺุฑุง ุจุฏูุ**

- ุงฺฏุฑ handler ุชุงุจุน ุณูฺฏูู ุง ูุชุบุฑ ุฎุงุฑุฌ ุงุณุชูุงุฏู ูโฺฉููุ ฺฉูุชุฑูุด ุณุฎุช ูโุดู.
    

  

**ุจูุชุฑ:**

- ุงุฒ useCallback ุจุฑุง ุชุนุฑู ุชุงุจุน ุงุณุชูุงุฏู ฺฉู ู ููุดู reference ุซุงุจุช ุจุฏู.
    

```
const handler = useCallback(() => {
  console.log('Clicked');
}, []);
```

  

---

### **โ ด. ุฒูุงู ฺฉู ููุทู ุฏุฑูู**ย

### **useEffect**

### ย**ุจุงุนุซ ุชุบุฑ state ุจุดู ฺฉู ูููู ุชุบุฑ ุจุงุนุซ ุงุฌุฑุง ูุฌุฏุฏ**ย

### **useEffect**

### ย**ุจุดู**

  

**ุจุฏ (ุจู ุญููู ูุงูุญุณูุณ ู re-render ุจโูพุงุงู):**

```
useEffect(() => {
  setValue(value + 1);
}, [value]);
```

**ุฏุฑุณุชโุชุฑ:**

- ุงุตูุงู ููฺู ฺฉุงุฑ ุฑู ุฏุฑ useEffect ูฺฉู.
    
- ุง ุจุงุฏ ุงุฒ event trigger ุดุฏู (ูุซูุงู button click) ุงู ฺฉุงุฑ ุงูุฌุงู ุดู.
    
- ุง ุจุง useReducer ููุทู ุชุบุฑ state ุฑู ฺฉูุชุฑู ฺฉู.
    

---

### **โ ต. ุฒูุงู ฺฉู ฺฉ ุชุงุจุน ุฏุงุฎู**ย

### **useEffect**

### ย**ูุฑ ุจุงุฑ ุชุบุฑ ูโฺฉูู**

  

**ุจุฏ:**

```
useEffect(() => {
  expensiveFunction();
}, [expensiveFunction]);
```

**ูุดฺฉู:**

- ุชุงุจุน ูุฑ ุจุงุฑ ุชุนุฑู ุจุดู โ dependency ุชุบุฑ ูโฺฉูู โ ุงุซุฑ ุฏูุจุงุฑู ุงุฌุฑุง ูโุดู
    

  

**ุจูุชุฑ:**

- wrap ุจุง useCallback ุชุง ุชุงุจุน reference ุซุงุจุช ุฏุงุดุชู ุจุงุดู:
    

```
const expensiveFunction = useCallback(() => { ... }, []);
useEffect(() => {
  expensiveFunction();
}, [expensiveFunction]);
```

  

---

## **๐ฏ ุฎูุงุตู ูฺฉุชู ฺฉูุฏ ุณููุฑ ูพุณูุฏ:**

|**ูุดฺฉู**|**ุถุฏโPattern**|**ุฑุงูโุญู ููุงุณุจ**|
|---|---|---|
|ุชุบุฑ state ุฏุงุฎู useEffect|โ|โ ุงุณุชูุงุฏู ุงุฒ useState ุง useReducer ูุณุชูู|
|ูุฏุฑุช state ูุงุจุณุชู ุจู actionูุง ูุฑุญููโุง|โ|โ ุงุณุชูุงุฏู ุงุฒ useReducer|
|ูุฏุฑุช ุชุงุจุนโูุง ุจุฑูู ฺฉู dependency ุฏุงุฑู|โ|โ ุงุณุชูุงุฏู ุงุฒ useCallback|
|ุงุณุชูุงุฏู ุงุฒ effect ุจุฑุง logic ุฏุงุฎู component|โ|โ ุงุณุชูุงุฏู ุงุฒ state ู reducer ูุณุชูู|

  
